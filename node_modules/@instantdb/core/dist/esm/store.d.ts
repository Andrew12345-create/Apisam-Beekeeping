import { InstantDBAttr } from './attrTypes.ts';
import { LinkIndex } from './utils/linkIndex.ts';
type Triple = [string, string, any, number];
type Attrs = Record<string, InstantDBAttr>;
type AttrIndexes = {
    blobAttrs: Map<string, Map<string, InstantDBAttr>>;
    primaryKeys: Map<string, InstantDBAttr>;
    forwardIdents: Map<string, Map<string, InstantDBAttr>>;
    revIdents: Map<string, Map<string, InstantDBAttr>>;
};
export type Store = {
    eav: Map<string, Map<string, Map<any, Triple>>>;
    aev: Map<string, Map<string, Map<any, Triple>>>;
    vae: Map<any, Map<string, Map<string, Triple>>>;
    useDateObjects: boolean | null;
    attrs: Attrs;
    attrIndexes: AttrIndexes;
    cardinalityInference: boolean | null;
    linkIndex: LinkIndex | null;
    __type: 'store';
};
export type StoreJson = {
    __type: 'store';
    attrs: Attrs;
    triples: Triple[];
    cardinalityInference: boolean | null;
    linkIndex: LinkIndex | null;
    useDateObjects: boolean | null;
};
export declare function isBlob(attr: InstantDBAttr): boolean;
export declare function getInMap(obj: any, path: any): any;
export declare function toJSON(store: Store): StoreJson;
export declare function fromJSON(storeJSON: StoreJson): Store;
export declare function hasTriple(store: Store, [e, a, v]: [string, string, any]): boolean;
export declare function hasEntity(store: Store, e: string): boolean;
export declare function createStore(attrs: Record<string, InstantDBAttr>, triples: Triple[], enableCardinalityInference: boolean | null, linkIndex: LinkIndex | null, useDateObjects: boolean | null): Store;
export declare function retractTriple(store: Store, rawTriple: Triple): void;
export declare function addTriple(store: Store, rawTriple: Triple): void;
export declare function allMapValues(m: any, level: any, res?: any[]): any[];
export declare function getTriples(store: any, [e, a, v]: [any, any, any]): any[];
export declare function getAsObject(store: Store, attrs: Map<string, InstantDBAttr> | undefined, e: string): {};
export declare function getAttrByFwdIdentName(store: Store, inputEtype: string, inputLabel: string): InstantDBAttr | undefined;
export declare function getAttrByReverseIdentName(store: Store, inputEtype: string, inputLabel: string): InstantDBAttr | undefined;
export declare function getBlobAttrs(store: Store, etype: string): Map<string, InstantDBAttr> | undefined;
export declare function getPrimaryKeyAttr(store: Store, etype: string): InstantDBAttr | undefined;
export declare function transact(store: Store, txSteps: any): Store;
export {};
//# sourceMappingURL=store.d.ts.map